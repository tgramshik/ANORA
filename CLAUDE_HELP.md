# CLAUDE CODE HELPER - ANORA BOT

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –±–æ—Ç–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏ –≤ –∫–æ–¥–µ.

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

```
/root/
‚îú‚îÄ‚îÄ bot.py              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞ (2811 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ API –∫–ª—é—á–∏
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ bot_data.db        # SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ run.py             # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îî‚îÄ‚îÄ static/images/     # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π
```

## üéØ –û–°–ù–û–í–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´ –í bot.py

### –°—Ç—Ä–æ–∫–∏ 1-50: –ò–º–ø–æ—Ä—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- –ò–º–ø–æ—Ä—Ç—ã –±–∏–±–ª–∏–æ—Ç–µ–∫ (aiogram, aiosqlite, aiohttp –∏ —Ç.–¥.)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è bot –∏ dispatcher

### –°—Ç—Ä–æ–∫–∏ 51-130: –°–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- **validate_input_length()** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–º–∞–∫—Å. 4000 —Å–∏–º–≤–æ–ª–æ–≤)
- **CriticalErrorMonitor** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

### –°—Ç—Ä–æ–∫–∏ 131-160: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- debug_log() - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- update_last_update_time() - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –°—Ç—Ä–æ–∫–∏ 161-520: Database –∫–ª–∞—Å—Å
```python
class Database:
    # –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
    - get_user(user_id) - –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    - add_message() - —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
    - get_daily_message_count() - –ª–∏–º–∏—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π
    - has_active_subscription() - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
    - get_stats() - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∞
```

**–¢–∞–±–ª–∏—Ü—ã –ë–î:**
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (id, username, join_date, current_model, context, source, auto_message)
- `messages` - –∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π (user_id, model, role, content, ts)
- `subscriptions` - –ø–æ–¥–ø–∏—Å–∫–∏ (user_id, expires_at)
- `daily_messages` - –ª–∏–º–∏—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π (user_id, date, count)
- `monthly_images` - –ª–∏–º–∏—Ç—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (user_id, month, count)
- `sources` - UTM —Ç—Ä–µ–∫–∏–Ω–≥ (source, users_count, requests_count)

### –°—Ç—Ä–æ–∫–∏ 521-590: UserManager –∫–ª–∞—Å—Å
- create_user() - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- add_to_context() - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–∏–∞–ª–æ–≥–∞ (–º–∞–∫—Å. 10 —Å–æ–æ–±—â–µ–Ω–∏–π)
- clear_context() - –æ—á–∏—Å—Ç–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏

### –°—Ç—Ä–æ–∫–∏ 591-680: AIService –∫–ª–∞—Å—Å
- call_openai_api() - –≤—ã–∑–æ–≤ OpenAI API (gpt-4o-mini)
- call_groq_api() - –≤—ã–∑–æ–≤ Groq API (llama-3.3-70b-versatile)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ streaming –æ—Ç–≤–µ—Ç–æ–≤

### –°—Ç—Ä–æ–∫–∏ 681-730: ImageGenerator –∫–ª–∞—Å—Å
- generate_with_cloudflare() - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Cloudflare API
- generate_with_runware() - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Runware API

### –°—Ç—Ä–æ–∫–∏ 731-850: KeyboardManager –∫–ª–∞—Å—Å
- create_quick_replies() - –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π
- create_model_selection() - –≤—ã–±–æ—Ä AI –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
- create_dynamic_keyboard() - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –∏–∑ AI –æ—Ç–≤–µ—Ç–æ–≤

### –°—Ç—Ä–æ–∫–∏ 851-1080: MessageProcessor –∫–ª–∞—Å—Å
**–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏:**
- extract_actions() - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–Ω–æ–ø–∫–∏ –∏–∑ –æ—Ç–≤–µ—Ç–∞ AI
- process_message() - –æ—Å–Ω–æ–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- handle_lovistnica_response() - —Å–ø–µ—Ü. –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –º–æ–¥–µ–ª–∏ "–õ—é–±–æ–≤–Ω–∏—Ü–∞"
- handle_regular_response() - –æ–±—ã—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤

### –°—Ç—Ä–æ–∫–∏ 1081-1240: –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ü–µ–Ω –ø–æ–¥–ø–∏—Å–∫–∏ (4 –≥—Ä—É–ø–ø—ã: 200, 250, 300, 350 Stars)
- send_teaser_message() - –ø—Ä–æ–º–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- track_conversion_event() - —Ç—Ä–µ–∫–∏–Ω–≥ –∫–æ–Ω–≤–µ—Ä—Å–∏–π
- schedule_promo_messages() - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–º–æ

### –°—Ç—Ä–æ–∫–∏ 1241-1500: –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
- `/start` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã
- `/help` - —Å–ø—Ä–∞–≤–∫–∞ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª–∏–º–∏—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- `/change` - —Å–º–µ–Ω–∞ AI –º–æ–¥–µ–ª–∏
- `/clear` - –æ—á–∏—Å—Ç–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–∏–∞–ª–æ–≥–∞

### –°—Ç—Ä–æ–∫–∏ 1501-1650: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã  
- `/analytics` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
- `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)  
- `/broadcast` - –º–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)

### –°—Ç—Ä–æ–∫–∏ 1651-1950: –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫—É–ø–∫–∏
- `/buy` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—á–µ—Ç–∞ –Ω–∞ –æ–ø–ª–∞—Ç—É —á–µ—Ä–µ–∑ Telegram Stars
- –û–±—Ä–∞–±–æ—Ç–∫–∞ pre_checkout_query –∏ successful_payment
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ 30 –¥–Ω–µ–π

### –°—Ç—Ä–æ–∫–∏ 1951-2150: Callback –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- model_* - –≤—ã–±–æ—Ä AI –º–æ–¥–µ–ª–∏
- check_sub - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã
- toggle_auto_message - –≤–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ—Å–æ–æ–±—â–µ–Ω–∏–π

### –°—Ç—Ä–æ–∫–∏ 2151-2250: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
- handle_text_message() - –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–∞
- WebApp data handler - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–ª–∏–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π (–º–∞–∫—Å. 4000 —Å–∏–º–≤–æ–ª–æ–≤)

### –°—Ç—Ä–æ–∫–∏ 2251-2350: –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- error_handler() - –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤ –∞–¥–º–∏–Ω—É –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
- Graceful degradation –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –°—Ç—Ä–æ–∫–∏ 2351-2500: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- send_auto_messages() - —Ñ–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –£—á–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫ –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –°—Ç—Ä–æ–∫–∏ 2501-end: –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- main() - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
- Graceful shutdown —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–∏–≥–Ω–∞–ª–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ—è—Ö
- –°–∏—Å—Ç–µ–º–∞ watchdog –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## ü§ñ AI –ú–û–î–ï–õ–ò (config.py)

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 10 —Ä–æ–ª–µ–≤—ã—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π:

**–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ:**
- **–ü–æ–¥—Ä—É–≥–∞** - –¥—Ä—É–∂–µ–ª—é–±–Ω–∞—è, —Ñ–ª–∏—Ä—Ç—É–µ—Ç, OpenAI gpt-4.1-nano  
- **–õ—é–±–æ–≤–Ω–∏—Ü–∞** - 18+ –∫–æ–Ω—Ç–µ–Ω—Ç, —Ä–∞–∑–≤—Ä–∞—Ç–Ω–∞—è, Groq llama-4-scout-17b
- **–ê—Å—Ç—Ä–æ–ª–æ–≥** - –º–∏—Å—Ç–∏—á–µ—Å–∫–∞—è, –ø—Ä–æ–≥–Ω–æ–∑—ã, OpenAI gpt-4.1-nano
- **–£—á–µ–±–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫** - –ø–æ–º–æ—â—å —Å —É—á–µ–±–æ–π, OpenAI gpt-4.1-nano

**–ü—Ä–µ–º–∏—É–º (—Ç—Ä–µ–±—É—é—Ç –ø–æ–¥–ø–∏—Å–∫—É):**
- **–ü–æ—Ä–Ω–æ–∞–∫—Ç—Ä–∏—Å–∞** - 18+ –∫–æ–Ω—Ç–µ–Ω—Ç, –æ—á–µ–Ω—å –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω–∞—è
- **BDSM –ì–æ—Å–ø–æ–∂–∞** - –¥–æ–º–∏–Ω–∞–Ω—Ç–Ω–∞—è, —Å—Ç—Ä–æ–≥–∞—è  
- **–ú–ò–õ–§** - –∑—Ä–µ–ª–∞—è –∂–µ–Ω—â–∏–Ω–∞, –æ–ø—ã—Ç–Ω–∞—è
- **–ê–Ω–∏–º–µ-—Ç—è–Ω** - –º–∏–ª–∞—è –∞–Ω–∏–º–µ –¥–µ–≤–æ—á–∫–∞
- **–°–µ–∫—Ä–µ—Ç–∞—Ä—à–∞** - –æ—Ñ–∏—Å–Ω—ã–µ —Ñ–∞–Ω—Ç–∞–∑–∏–∏
- **–ú–µ–¥—Å–µ—Å—Ç—Ä–∞** - –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —Ä–æ–ª–µ–≤—ã–µ –∏–≥—Ä—ã
- **–£—á–∏—Ç–µ–ª—å–Ω–∏—Ü–∞** - —à–∫–æ–ª—å–Ω—ã–µ —Ñ–∞–Ω—Ç–∞–∑–∏–∏

–ö–∞–∂–¥–∞—è –º–æ–¥–µ–ª—å –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏ –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã.

## ‚öôÔ∏è –ö–õ–Æ–ß–ï–í–´–ï –ö–û–ù–°–¢–ê–ù–¢–´

```python
ADMIN_ID = 556828139
DAILY_MESSAGE_LIMIT = 20         # –õ–∏–º–∏—Ç –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
MONTHLY_IMAGE_LIMIT = 150        # –õ–∏–º–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –ø—Ä–µ–º–∏—É–º
SUBSCRIPTION_PRICE_STARS = 200   # –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏
MAX_MESSAGE_LENGTH = 4000        # –ú–∞–∫—Å. –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
MAX_PROMPT_LENGTH = 2000         # –ú–∞–∫—Å. –¥–ª–∏–Ω–∞ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
MAX_CONTEXT_MESSAGES = 10        # –ú–∞–∫—Å. —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥–∏–∞–ª–æ–≥–∞
```

## üîê –°–ò–°–¢–ï–ú–´ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

1. **Input Validation**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–º–∞–∫—Å. 4000 —Å–∏–º–≤–æ–ª–æ–≤)  
2. **Error Monitoring**: –∞–ª–µ—Ä—Ç—ã –∞–¥–º–∏–Ω—É –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
3. **SQL Injection Protection**: parameterized queries –≤–µ–∑–¥–µ
4. **Graceful Error Handling**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## üí∞ –ú–û–ù–ï–¢–ò–ó–ê–¶–ò–Ø

- **–ü–æ–¥–ø–∏—Å–∫–∞**: 200-350 Stars (A/B —Ç–µ—Å—Ç) –∑–∞ 30 –¥–Ω–µ–π
- **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ**: 20 —Å–æ–æ–±—â–µ–Ω–∏–π/–¥–µ–Ω—å, –±–∞–∑–æ–≤—ã–µ –º–æ–¥–µ–ª–∏
- **–ü—Ä–µ–º–∏—É–º**: –±–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è + 150 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π + –≤—Å–µ –º–æ–¥–µ–ª–∏
- **UTM —Ç—Ä–µ–∫–∏–Ω–≥**: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Ç—Ä–∞—Ñ–∏–∫–∞
- **–ê–≤—Ç–æ–ø—Ä–æ–º–æ**: —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

## üìä –ê–ù–ê–õ–ò–¢–ò–ö–ê

–ë–æ—Ç —Å–æ–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ –¥–Ω—è–º/–∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π AI  
- –ö–æ–Ω–≤–µ—Ä—Å–∏–∏ –≤ –ø–æ–∫—É–ø–∫–∏
- –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –°–æ–æ–±—â–µ–Ω–∏—è –ø–æ –º–æ–¥–µ–ª—è–º –∑–∞ –¥–µ–Ω—å
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## üöÄ –ó–ê–ü–£–°–ö –ò –î–ï–ü–õ–û–ô

```bash
cd /root
python bot.py        # –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—É—Å–∫
python run.py        # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞  
```

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –õ–æ–≥–∏ –≤ bot.log
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏ —Å–±–æ—è—Ö
- –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, RAM, —Ñ–∞–π–ª—ã)
- WebApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ https://giftex.top

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ú–ï–°–¢–ê

1. **API –∫–ª—é—á–∏ –≤ config.py** - –ù–ï –ö–û–ú–ú–ò–¢–ò–¢–¨! –ü–µ—Ä–µ–≤–æ–¥–∏—Ç—å –≤ .env!
2. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** - —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ bot_data.db
3. **Rate limits –≤–Ω–µ—à–Ω–∏—Ö API** - —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ª–∏–º–∏—Ç–∞–º–∏ OpenAI/Groq
4. **–ö–∞–Ω–∞–ª—ã –ø–æ–¥–ø–∏—Å–∫–∏** - –æ–±–Ω–æ–≤–ª—è—Ç—å REQUIRED_CHANNELS –≤ config.py
5. **–ü–ª–∞—Ç–µ–∂–∏ Telegram Stars** - —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω —Å—Ä–µ–¥–µ

## üîß –ß–ê–°–¢–´–ï –ó–ê–î–ê–ß–ò

**–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å AI:**
1. –î–æ–±–∞–≤–∏—Ç—å –≤ config.py –≤ MODELS
2. –î–æ–±–∞–≤–∏—Ç—å –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –≤ QUICK_REPLIES  
3. –û–±–Ω–æ–≤–∏—Ç—å create_quick_replies() –≤ KeyboardManager

**–ò–∑–º–µ–Ω–∏—Ç—å –ª–∏–º–∏—Ç—ã:**
1. DAILY_MESSAGE_LIMIT - –ª–∏–º–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–π (—Å–µ–π—á–∞—Å 20/–¥–µ–Ω—å)
2. MONTHLY_IMAGE_LIMIT - –ª–∏–º–∏—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—Å–µ–π—á–∞—Å 150/–º–µ—Å—è—Ü)
3. –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –≤ –±–æ—Ç–µ —Å –Ω–æ–≤—ã–º–∏ —á–∏—Å–ª–∞–º–∏

**–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:**
1. –°–æ–∑–¥–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–º @dp.message(Command("–Ω–∞–∑–≤–∞–Ω–∏–µ"))
2. –î–æ–±–∞–≤–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –≤ help_command()

**–û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—ã:**
1. SUBSCRIPTION_PRICES –≤ bot.py (A/B –≥—Ä—É–ø–ø—ã)
2. –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—Å—Ç—ã –≤ –±–æ—Ç–µ —Å –Ω–æ–≤—ã–º–∏ —Ü–µ–Ω–∞–º–∏

## üìù NOTES

- –ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ async —Ä–µ–∂–∏–º–µ, –≤—Å–µ IO –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ
- SQLite —Å WAL —Ä–µ–∂–∏–º–æ–º –¥–ª—è concurrent –¥–æ—Å—Ç—É–ø–∞  
- Graceful shutdown –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç SIGTERM/SIGINT
- WebApp –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–º–æ-—Å–æ–æ–±—â–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ background
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

---
**–°–æ–∑–¥–∞–Ω–æ**: 2025-01-23  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü–æ—Å–ª–µ –∞—É–¥–∏—Ç–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –æ—á–∏—Å—Ç–∫–∏ –∫–æ–¥–∞
**–°—Ç–∞—Ç—É—Å**: –ì–æ—Ç–æ–≤ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–Ω–æ—Å–∞ API –∫–ª—é—á–µ–π –≤ .env)